"use strict";(self.webpackChunkreacticz=self.webpackChunkreacticz||[]).push([[750],{4763:(e,s,t)=>{t.r(s),t.d(s,{default:()=>A});var o=t(5043),r=t(2166);const a={wrapper:"Profile_wrapper__erqC2",item:"Profile_item__SkOvN",info_prof:"Profile_info_prof__1DbDU",banner_content:"Profile_banner_content__xgfv2",img_prof:"Profile_img_prof__wfLpP"};var i=t(5977),n=t(6545),l=t(6292);const c={content:"MyPosts_content__BI6+j",postheader:"MyPosts_postheader__u8GKa",textarea:"MyPosts_textarea__6xwE8",btn:"MyPosts_btn__i92-Y"},d={item:"Post_item__OoD9B",counter:"Post_counter__yfAND",item_text:"Post_item_text__M2OAs",item_do:"Post_item_do__KO95V"};var u=t(579);const p=function(e){return(0,u.jsx)("div",{className:d.content,children:(0,u.jsxs)("div",{className:d.item,children:[e.id,(0,u.jsx)("div",{children:(0,u.jsx)("img",{src:e.photoUrl,alt:"xxx"})}),(0,u.jsxs)("div",{className:d.counter,children:[(0,u.jsx)("p",{className:d.item_text,children:e.message}),(0,u.jsx)("button",{className:d.item_do,children:e.CountLike})]})]})})};var f=t(5963);const _=(0,t(3842).A)({form:"ProfileAddNewPostForm"})((e=>(0,u.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,u.jsx)(f.A,{validate:[n.mw,(0,n.dX)(60),(0,n.XP)(10)],component:l.T,className:c.textarea,placeholder:"write smth",name:"newPostText"}),(0,u.jsx)("button",{className:c.btn,children:"Add Post"})]}))),m=function(e){let s=[...e.posts].reverse().map((e=>(0,u.jsx)(p,{message:e.message,CountLike:e.CountLike,photoUrl:e.photoUrl},e.id)));return(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:c.postheader,children:"My posts"}),(0,u.jsx)("div",{className:c.content,children:(0,u.jsx)(_,{onSubmit:s=>{e.addPost(s.newPostText)}})}),(0,u.jsx)("div",{className:c.posts,children:s})]})};const h=(0,r.Ng)((e=>({posts:e.profilePage.posts,newPostText:e.profilePage.newPostText})),(e=>({addPost:s=>{e((0,i.oL)(s))}})))(m),x=t.p+"static/media/userPhoto.10a890ff9d0be58b411f.jpg",j={wrapper:"ProfileInfo_wrapper__5+FGy",item:"ProfileInfo_item__LfrLF",info_prof:"ProfileInfo_info_prof__3-CKb",banner_content:"ProfileInfo_banner_content__UapXL",img_prof:"ProfileInfo_img_prof__l+FnD"},P=t.p+"static/media/bannerx.213003fb86278f831c00.jpg";var b=t(123);const g=e=>{let[s,t]=(0,o.useState)(!1),[r,a]=(0,o.useState)(e.status);(0,o.useEffect)((()=>{a(e.status)}),[e.status]);return(0,u.jsxs)("div",{className:j.status,children:[!s&&(0,u.jsx)("div",{children:(0,u.jsx)("span",{onDoubleClick:()=>{t(!0)},children:e.status||"Change the status"})}),s&&(0,u.jsx)("div",{children:(0,u.jsx)("input",{autoFocus:!0,onChange:e=>{a(e.currentTarget.value)},onBlur:()=>{t(!1),e.updateStatus(r)},value:r})})]})};const N=function(e){return e.profile?(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:P,alt:"banner",className:j.banner_content}),(0,u.jsxs)("div",{className:j.wrapper,children:[(0,u.jsx)("div",{className:j.photo,children:(0,u.jsx)("img",{src:(e.profile.photos.large,x),alt:"vrum-vrum",className:j.img_prof})}),(0,u.jsxs)("div",{className:j.info_prof,children:[(0,u.jsx)("p",{className:j.item,children:e.profile.fullName}),(0,u.jsx)("p",{className:j.status,children:(0,u.jsx)(g,{...e})}),(0,u.jsxs)("p",{className:j.item,children:[(0,u.jsx)("b",{className:"keyword",children:"About: "}),e.profile.aboutMe]}),(0,u.jsxs)("p",{className:j.item,children:[(0,u.jsx)("b",{className:"keyword",children:"Looking for a job:"})," ",e.profile.lookingForAJob,e.profile.lookingForAJobDescription]}),(0,u.jsxs)("a",{href:" #!",className:j.item,children:[(0,u.jsx)("b",{className:"keyword",children:"Contacts: "}),e.profile.contacts.website]})]})]})]}):(0,u.jsx)(b.A,{})};const v=function(e){return(0,u.jsxs)("div",{className:a.content,children:[(0,u.jsx)(N,{...e}),(0,u.jsx)(h,{})]})};var w=t(6213),k=t(3216);const A=(0,r.Ng)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth})),{setUserProfile:i.p,getStatus:i.BS,updateStatus:i.yB})((function(e){let{userId:s}=(0,k.g)();return s||(s=e.authorizedUserId),(0,o.useEffect)((()=>{s&&w.A.get("https://social-network.samuraijs.com/api/1.0/profile/"+s).then((t=>{e.setUserProfile(t.data),e.getStatus(s)}))}),[s]),e.isAuth?(0,u.jsx)("div",{children:(0,u.jsx)(v,{...e,profile:e.profile,status:e.status,updateStatus:e.updateStatus})}):(0,u.jsx)(k.C5,{to:"/login"})}))}}]);
//# sourceMappingURL=750.68ecee9b.chunk.js.map